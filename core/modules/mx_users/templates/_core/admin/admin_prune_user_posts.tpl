<script language="Javascript" type="text/javascript">
	// Did I mention I hated javascript?
	// Modified from privmsgs mark all/unmark all
	function select_switch(status)
	{	
		var re;
		
		// regex to match only the forums checkboxes
		re = /^prune_forumid_[0-9]+$/;
		
		for (i = 0; i < document.post.length; i++)
		{
			if( re.test(document.post.elements[i].name) == true )
			{
				document.post.elements[i].checked = status;
			}
		}
	}
</script>

<h1>{L_PRUNE_USER_POSTS}</h1>

<p>{L_PRUNE_EXPLAIN}</p>

<form method="post" name="post" action="{S_PRUNE_ACTION}">
<table border="0" cellpadding="3" cellspacing="1" width="100%" class="forumline">
	<tr>
		<th class="thHead" colspan="2" height="25" valign="middle">{L_PRUNE_FORUMS}</th>
	</tr>
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_PRUNE_FORUMS_EXPLAIN}</span></td>
	</tr>
	<!-- BEGIN catrow -->
	<tr>
		<td class="row2" colspan="2"><span class="gen"><strong>Category: {catrow.CATEGORY_NAME}</span></td>
	</tr>
	<!-- BEGIN forumrow -->
	<tr>
		<td class="row{catrow.forumrow.ROW_CLASS}" width="100%"><span class="gen">{catrow.forumrow.FORUM_NAME}</span></td>
		<td class="row{catrow.forumrow.ROW_CLASS}"><input type="checkbox" name="prune_forumid_{catrow.forumrow.FORUM_ID}" value="true" /></td>
	</tr>
	<!-- END forumrow -->
	<!-- END catrow -->
	<tr>
		<td class="row3" colspan="2" align="right"><strong><span class="gensmall"><a href="javascript:select_switch(true);" class="gensmall">{L_MARK_ALL}</a> :: <a href="javascript:select_switch(false);" class="gensmall">{L_UNMARK_ALL}</a></span></strong></td>
	</tr>
	<tr>
	  <td class="catSides" colspan="2" height="28">&nbsp;</td>
	</tr>
	<tr>
		<th class="thHead" colspan="2" height="25" valign="middle">{L_PRUNE_USERS}</th>
	</tr>
	<tr>
		<td class="row1"><span class="gen">{L_USERNAME}: <input type="text" class="post" name="username" maxlength="50" size="20" /> <input type="submit" name="usersubmit" value="{L_FIND_A_USERNAME}" class="liteoption" onClick="window.open('{S_SEARCH_ACTION}', '_phpbbsearch', 'HEIGHT=250,resizable=yes,WIDTH=400');return false;" /></span></td>
		<td class="row1"><input type="radio" name="prune_type" value="user" checked="checked" /></td>
	</tr>	
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_USERNAME_EXPLAIN}</span></td>
	</tr>
	<tr>
		<td class="row1"><span class="gen">{L_ALL_USERS}</span></td>
		<td class="row1"><input type="radio" name="prune_type" value="all_users" /></td>
	</tr>	
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_ALL_USERS_EXPLAIN}</span></td>
	</tr>
	<!-- BEGIN switch_banned_users -->
	<tr>
		<td class="row1"><span class="gen">{L_BANNED_USERS}</span></td>
		<td class="row1"><input type="radio" name="prune_type" value="banned_users" /></td>
	</tr>
	
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_BANNED_USERS_EXPLAIN}</span></td>
	</tr>
	<!-- END switch_banned_users -->
	<!-- BEGIN switch_groups -->
	<tr>
		<td class="row1"><span class="gen">{L_GROUP}: {GROUP_LIST}</span></td>
		<td class="row1"><input type="radio" name="prune_type" value="group" /></td>
	</tr>	
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_GROUP_EXPLAIN}</span></td>
	</tr>
	<!-- END switch_groups -->
	<tr>
		<td class="row1"><span class="gen">{L_IP_ADDRESS}: <input type="text" class="post" name="prune_ip" maxlength="50" size="20" /></span></td>
		<td class="row1"><input type="radio" name="prune_type" value="ip" /></td>
	</tr>	
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_IP_EXPLAIN}</span></td>
	</tr>
	<!-- BEGIN switch_banned_ips -->
	<tr>
		<td class="row1"><span class="gen">{L_BANNED_IPS}</span></td>
		<td class="row1"><input type="radio" name="prune_type" value="banned_ips" /></td>
	</tr>	
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_BANNED_IPS_EXPLAIN}</span></td>
	</tr>
	<!-- END switch_banned_ips -->
	<tr>
		<td class="row1"><span class="gen">{L_GUESTS}</span></td>
		<td class="row1"><input type="radio" name="prune_type" value="guest_users" /></td>
	</tr>	
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_GUESTS_EXPLAIN}</span></td>
	</tr>
	<tr>
	  <td class="catSides" colspan="2" height="28">&nbsp</td>
	</tr>
	<tr>
		<th class="thHead" colspan="2" height="25" valign="middle">{L_DATE_CRITERIA}</th>
	</tr>
	<tr>
		<td class="row1"><span class="gen"><select name="prune_time_order"><option value="before" selected="selected">{L_BEFORE}</option><option value="after">{L_AFTER}</option></select> {L_THE_LAST} <input type="text" class="post" name="prune_time_value" maxlength="50" size="5" /> <select name="prune_time_type"><option value="seconds" selected="selected">{L_SECONDS}</option><option value="minutes">{L_MINUTES}</option><option value="hours">{L_HOURS}</option><option value="days">{L_DAYS}</option></select></span></td>
		<td class="row1"><input type="radio" name="prune_date_type" value="time" /></td>
	</tr>	
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_BY_TIME_EXPLAIN}</span></td>
	</tr>
	<tr>
		<td class="row1"><span class="gen"><select name="prune_dateby_type"><option value="before" selected="selected">{L_BEFORE}</option><option value="on" selected="selected">{L_ON}</option><option value="after">{L_AFTER}</option></select> {L_DATE}: <input type="text" class="post" name="prune_dateby_value" maxlength="50" size="15" /> {L_DDMMYYYY}</span></td>
		<td class="row1"><input type="radio" name="prune_date_type" value="by_date" /></td>
	</tr>	
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_DATE_EXPLAIN}</span></td>
	</tr>
	<tr>
		<td class="row1"><span class="gen">{L_FROM} <input type="text" class="post" name="prune_daterange_start" maxlength="50" size="15" /> {L_TO} <input type="text" class="post" name="prune_daterange_stop" maxlength="50" size="15" /> {L_DDMMYYYY}</span></td>
		<td class="row1"><input type="radio" name="prune_date_type" value="range" /></td>
	</tr>	
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_RANGE_EXPLAIN}</span></td>
	</tr>
	<tr>
		<td class="row1"><span class="gen">{L_ALL_POSTS}</span></td>
		<td class="row1"><input type="radio" name="prune_date_type" value="all" checked="checked" /></td>
	</tr>	
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_ALL_POSTS_EXPLAIN}</span></td>
	</tr>
	<tr>
	  <td class="catSides" colspan="2" height="28">&nbsp</td>
	</tr>
	<tr>
		<th class="thHead" colspan="2" height="25" valign="middle">{L_PRUNING_OPTIONS}</th>
	</tr>
	<tr>
		<td class="row1"><span class="gen">{L_REMOVE_TOPICS}</span> <select name="prune_topic_started"><option value="true" selected="selected">{L_YES}</option><option value="false">{L_NO}</option></td><td class="row1"></td>
	</tr>
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_REMOVE_TOPICS_EXPLAIN}</span></td>
	</tr>
	<tr>
		<td class="row1"><span class="gen">{L_EXEMPT_STICKIES}</span> <select name="prune_stickies"><option value="true">{L_YES}</option><option value="false" selected="selected">{L_NO}</option></td><td class="row1"></td>
	</tr>
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_EXEMPT_STICKIES_EXPLAIN}</span></td>
	</tr>
	<tr>
		<td class="row1"><span class="gen">{L_EXEMPT_ANNOUNCEMENTS}</span> <select name="prune_announcements"><option value="true">{L_YES}</option><option value="false" selected="selected">{L_NO}</option></td><td class="row1"></td>
	</tr>
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_EXEMPT_ANNOUNCEMENTS_EXPLAIN}</span></td>
	</tr>
	<tr>
		<td class="row1"><span class="gen">{L_EXEMPT_OPEN}</span> <select name="prune_open"><option value="true">{L_YES}</option><option value="false" selected="selected">{L_NO}</option></td><td class="row1"></td>
	</tr>
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_EXEMPT_OPEN_EXPLAIN}</span></td>
	</tr>
	<tr>
		<td class="row1"><span class="gen">{L_EXEMPT_POLLS}</span> <select name="prune_polls"><option value="true">{L_YES}</option><option value="false" selected="selected">{L_NO}</option></td><td class="row1"></td>
	</tr>
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_EXEMPT_POLLS_EXPLAIN}</span></td>
	</tr>
	<tr>
		<td class="row1"><span class="gen">{L_ADJUST_COUNTS}</span> <select name="prune_update_post_counts"><option value="true" selected="selected">{L_YES}</option><option value="false">{L_NO}</option></td><td class="row1"></td>
	</tr>
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_ADJUST_COUNTS_EXPLAIN}</span></td>
	</tr>
	<tr>
		<td class="row1"><span class="gen">{L_UPDATE_SEARCH}</span> <select name="prune_update_search"><option value="true" selected="selected">{L_YES}</option><option value="false">{L_NO}</option></td><td class="row1"></td>
	</tr>
	<tr>
		<td class="row2" colspan="2"><span class="gensmall">{L_UPDATE_SEARCH_EXPLAIN}</span></td>
	</tr>
	<tr>
		<td class="catBottom" colspan="2" align="center" height="28"><input type="submit" name="submit" value="{L_SUBMIT}" class="mainoption" />&nbsp;&nbsp;<input type="reset" value="{L_RESET}" name="reset" class="liteoption" /></td>
	</tr>
</table>
</form>